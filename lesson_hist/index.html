<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>История Руси XI - XI века</title>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/index.css">
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.0.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg fixed-top bg-body-tertiary">
            <div class="container-fluid">
              <a class="navbar-brand bold" href="#">Интересные Викторины</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Переключатель навигации">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Главная</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Викторины
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">По истории</a></li>
                  </li> </ul>

                </ul>
                <form class="d-flex" role="search">
                  <input class="form-control me-2" type="search" placeholder="Поиск" aria-label="Поиск">
                  <button class="btn btn-outline-success" type="submit">Поиск</button>
                </form>
              </div>
            </div>
        </nav>
        <br>
        <br>
        <br>
        <br>
        <div class="m_cont">
          <br>
          <div class="block" id="quiz">
            <div class="quiz-header" id="header">
                <h2 class="title"> Загружаем вопрос...</h2>
            </div>
            <ul class="quiz-list" id="list"> 
              <li>
                <label>
                  <input type="radio" class="answer" name="answer">
                  <span>Ответ</span>
                </label>
              </li>
              <li>
                <label>
                  <input type="radio" class="answer" name="answer">
                  <span>Ответ</span>
                </label>
              </li>
            </ul>
            <div class="bu"><button class="quiz-submit submit" id="submit">Ответить</button></div>
          </div>
        </div>
        <nav class="navbar fixed-bottom bg-body-tertiary">
          <div class="container-fluid">
            <span class="navbar-text">
              Изображение от <a href="https://ru.freepik.com/free-vector/flat-pattern-design-for-back-to-school-event_29401528.htm#page=6&query=%D1%84%D0%BE%D0%BD%20%D1%88%D0%BA%D0%BE%D0%BB%D0%B0&position=20&from_view=search&track=sph">Freepik</a>
              <br> Викторины, 2023
            </span>
          </div>
        </nav>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
        <script>
          const questions=[
          {
            question: 'Какую письменность создали Кирилл и Мефодий?',
            answers: ['Кириллица','Латиница','Глаголица','Арабица'],
            correct: 3,
          },
          {
            question: ' В каком году было призвание варягов (Рюрика)?',
            answers: ['862','882','863','879'],
            correct: 1,
          },
          {
            question: 'В каком городе сначала правил Рюрик на Руси?',
            answers: ['В Новгороде','В Киеве','В Ладоге','В Смоленске'],
            correct: 3,
          },
          {
            question: 'В каком году было образование Киевской Руси?',
            answers: ['862','882','988','879'],
            correct: 2,
          },
          {
            question: 'Осенью 912 года, как сообщает Повесть временных лет, князь Олег погиб от',
            answers: ['укуса коня','своего меча','укуса змеи'],
            correct: 3,
          },
          {
            question: 'Годы правления князя Игоря?',
            answers: ['879-912','912-945','945-960'],
            correct: 2,
          },
          {
            question: 'С кем был подписан договор в 944 году?',
            answers: ['С Византийской империей','С печенегами','С Фрисландией','С герцогством Нормандским'],
            correct: 1,
          },
          {
            question: 'Какие важные реформы были введены при княгине Ольге?',
            answers: ['Полюдье','Уроки и погосты','Русская правда'],
            correct: 2,
          },
          {
            question: 'В каком году было крещение Руси?',
            answers: ['960','972','988','1001'],
            correct: 3,
          },
          {
            question: ' Происхождение Русской Правды связано с князем?',
            answers: ['Игорем','Владимиром','Иваном I', 'Ярославом'],
            correct: 4,
          },
          {
            question: 'В каком году был съезд князей в Любече?',
            answers: ['1073','1093','1097','1132'],
            correct: 3,
          },
          {
            question: 'В каком году была смерть Мстислава Владимировича и начало распада Киевской Руси?',
            answers: ['1097','1118','1132','1136'],
            correct: 3,
          },
          {
            question: 'Какая республика была утверждена в 1136 году?',
            answers: ['Новгородская Республика','Республика Карелия','Карачаево-Черкесская Республика','Республика Мордовия'],
            correct: 1,
          },
          {
            question: 'В каком году было первое летописное упоминание Москвы?',
            answers: ['988','1132','1136','1147'],
            correct: 4,
          },
          {
            question: ' Сколько правящих династий было в России?',
            answers: ['Ни одной','одна','две','три'],
            correct: 3,
          },
          ];
          const headContainer=document.querySelector('#header');
          const liContainer=document.querySelector('#list');
          const suButton=document.querySelector('#submit');

  
          let score=0;
          let questionInd=0;
          deliting();
          Showquestion();
          suButton.onclick=checkAnswer;


          function deliting(){
          headContainer.innerHTML='';
          liContainer.innerHTML='';}
          function Showquestion(){
            let hT=`<h2 class="title">`+questions[questionInd]['question']+`</h2>`;
            headContainer.innerHTML=hT;
            let a=1;
            for (item of questions[questionInd]['answers']){
            let hA='<li><label><input type="radio" class="answer" name="answer" value="'+a+'"><span> '+item+'</span></label></li>';
            liContainer.innerHTML+=hA;
            a++;
          }
          }

          function checkAnswer(){
            const checked=liContainer.querySelector('input[type="radio"]:checked');
            var b=parseInt(checked.value);
            if (!checked){
              return;
          }
          if (parseInt(checked.value)===questions[questionInd]['correct']){
            score++;
            deliting();
            let hT=`<h2 class="title">`+questions[questionInd]['question']+`</h2>`;
            headContainer.innerHTML=hT;
            var a=1;
            for (item of questions[questionInd]['answers']){
            let hA='<li><label><input type="radio" class="answer" name="answer" '+fa(b,a)+' value="'+a+'"><span> '+item+'</span></label></li>';
            liContainer.innerHTML+=hA;
            a++;
          }
            liContainer.innerHTML+='<span style="color: rgb(6, 255, 80);font-weight: 700;">Правильно! </span>'+questions[questionInd]['answers'][questions[questionInd]['correct']-1];
          }
          else{
            deliting();
            let hT=`<h2 class="title">`+questions[questionInd]['question']+`</h2>`;
            headContainer.innerHTML=hT;
            var a=1;
            for (item of questions[questionInd]['answers']){
            let hA='<li><label><input type="radio" class="answer" name="answer" '+fa(b,a)+' value="'+a+'"><span> '+item+'</span></label></li>';
            liContainer.innerHTML+=hA;
            a++;
          }
            liContainer.innerHTML+='<span style="color: red;font-weight: 500;">Неправильно.</span> Правильный ответ - '+questions[questionInd]['answers'][questions[questionInd]['correct']-1];
          }
          if (questions.length===questionInd+1){
            suButton.innerHTML='Показать результаты викторины';
          suButton.onclick=next;
          }
          else{
          suButton.innerHTML='Следующий вопрос';
          suButton.onclick=next;}
        }
        function fa(b,a){
            if (b===a){
              return `checked="checked" disabled="disabled"`;
            }
            else{
              return `disabled="disabled"`;
            }
          }
        function next(){
          if (questions.length===questionInd+1){
            deliting();
            showRes();
          }
          else{
            questionInd++;
            deliting();
            Showquestion();
            suButton.innerHTML='Ответить';
            suButton.onclick=checkAnswer;
          }
        }
        function showRes(){
          let hT=`<h2 class="title">`+'Ваш результат '+score+' из '+questions.length+`</h2>`;
            headContainer.innerHTML=hT;
          if (score===questions.length){
            headContainer.innerHTML+='Поздравляем 🎉!<br> Вы верно ответили на все вопросы!!!';
          }
          else if ((score*100)/questions.length >=60)
          {
            headContainer.innerHTML+='Неполохой результат 😊. <br>Вы верно ответили на '+parseInt((score*100)/questions.length)+'% вопросов!';
          }
          else{
            headContainer.innerHTML+='Стоит постараться 😐. <br> Вы верно ответили на '+parseInt((score*100)/questions.length)+'% вопросов.';
          }
          suButton.innerHTML='Начать заново';
          suButton.onclick=()=>{history.go()};
        }
        </script>
    </body>
</html>    
