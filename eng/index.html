<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Сборник учебных игр</title>
  <style>
    :root{--bg:#f7f7fb;--card:#fff;--accent:#0366d6}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0; background:var(--bg); color:#111}
    .wrap{max-width:980px; margin:28px auto; padding:20px}
    header{display:flex;align-items:center;gap:16px}
    h1{margin:0;font-size:1.4rem}
    p.lead{margin:6px 0 18px;color:#444}
    .controls{display:flex;gap:8px;align-items:center;margin-bottom:12px;flex-wrap:wrap}
    .search{padding:8px 10px;border:1px solid #ddd;border-radius:8px;min-width:220px}
    .count{color:#666;font-size:0.95rem}
    .games{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:12px}
    .card{background:var(--card);border-radius:10px;padding:12px;box-shadow:0 2px 8px rgba(16,24,40,0.06);display:flex;flex-direction:column;gap:10px}
    .title{font-weight:600;font-size:1rem;line-height:1.2}
    .url{font-size:0.85rem;color:#0366d6;word-break:break-all}
    .actions{margin-top:auto;display:flex;gap:8px}
    .btn{border:0;padding:8px 10px;border-radius:8px;cursor:pointer;background:var(--accent);color:#fff;font-weight:600;font-size:0.9rem}
    .btn.secondary{background:#e6eefc;color:#0366d6}
    .btn.tertiary{background:#f0f0f0;color:#666;border:1px solid #ddd}
    .empty{padding:20px;text-align:center;color:#666}
    footer{margin-top:18px;color:#666;font-size:0.9rem}
    .hidden-game{opacity:1;border:1px dashed #ccc}
    .hidden-badge{background:#ffeb3b;color:#333;padding:2px 6px;border-radius:4px;font-size:0.7rem;font-weight:600}
    @media (max-width:420px){.search{min-width:140px}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Учебные игры</h1>
        <p class="lead">Нажмите на «Открыть», чтобы запустить игру в новой вкладке.</p>
      </div>
      <div style="margin-left:auto" class="count" id="count">0 игр</div>
    </header>

    <div class="controls">
      <input id="search" class="search" placeholder="Поиск по названию..." />
      <button id="showAll" class="btn secondary">Показать все игры</button>
      <button id="reset" class="btn tertiary">Сброс</button>
    </div>

    <div id="games" class="games"></div>

    <div id="empty" class="empty" style="display:none">Список пуст или ничего не найдено.</div>

    <footer>Фронтенд только (index.html). Для добавления/редактирования списка — правьте массив <code>games</code> в скрипте.
    Данный сайт создан только в учебных целях.</footer>
  </div>

  <script>
    // Список игр: {name, url, hidden}
    const games = [
      { name: '1.1 Карточки', url: 'https://wordwall.net/play/97422/764/824', hidden: true },
      { name: '1.2 Карточки', url: 'https://wordwall.net/play/97307/815/113', hidden: true },
      { name: '2.1 Буквы слов', url: 'https://wordwall.net/play/97308/480/641', hidden: true },
      { name: '2.2 Слушать и повторять за "диктором"', url: 'https://wordwall.net/play/97943/594/525', hidden: true },
      { name: '2.3 Соединить слово с нужной буквой', url: 'https://wordwall.net/play/97943/908/140', hidden: true },
      { name: '3.1 Эмоции', url: 'https://wordwall.net/play/98286/339/499', hidden: true },
      { name: '3.2 Составление слов', url: 'https://wordwall.net/play/97306/310/475', hidden: true },
      { name: '4.1 Практика чтения', url: 'https://wordwall.net/play/98029/685/957', hidden: true },
      { name: '4.2 Повторяем цифры 1-12', url: 'https://wordwall.net/play/98798/033/430', hidden: true },
      { name: '5.1 Продолжение запоминания цифр', url: 'https://wordwall.net/play/98798/033/100', hidden: true },
      { name: '5.2 Повторяем новый набор "буква-звук-слово"', url: 'https://wordwall.net/play/99209/738/897', hidden: true },
      { name: '6.1 Задание на повторение цифр', url: 'https://wordwall.net/play/99257/445/798', hidden: true },
      { name: '6.2 Буква - звук - слово', url: 'https://wordwall.net/play/97945/582/256', hidden: true },
      { name: '7.1 Повторение слов', url: 'https://wordwall.net/play/97945/134/177', hidden: true },
      { name: '7.2 Повторение слов', url: 'https://wordwall.net/play/97945/146/788', hidden: true },
      { name: '8.1 Повторение цифр 1-12 (сопоставление)', url: 'https://wordwall.net/play/100381/818/987', hidden: true },
      { name: '8.2 Угадай картинку', url: 'https://wordwall.net/play/100372/679/778', hidden: true },
      { name: '9.1 Чтение (соотнести гласную букву в слове)', url: 'https://wordwall.net/play/100948/774/507', hidden: true },
      { name: '9.2 Запоминаем цвета', url: 'https://wordwall.net/play/100949/682/516', hidden: true },
      { name: '9.3 Запоминаем цвета (пары)', url: 'https://wordwall.net/play/100949/682/336', hidden: true },
      { name: '10.1 Буквы R-U (буква-звук-слово)', url: 'https://wordwall.net/play/101610/288/436', hidden: true },
      { name: '10.2 Отрабатываем чтение', url: 'https://wordwall.net/play/101610/815/463', hidden: true },
      { name: '11.1 Буквы R-Z', url: 'https://wordwall.net/play/99315/097/757', hidden: false },
    ];

    const $games = document.getElementById('games');
    const $count = document.getElementById('count');
    const $empty = document.getElementById('empty');
    const $search = document.getElementById('search');
    const $reset = document.getElementById('reset');
    const $showAll = document.getElementById('showAll');

    let showHiddenGames = false;

    // Функция для получения игр в зависимости от режима отображения
    function getGamesToShow() {
      if (showHiddenGames) {
        return games;
      } else {
        return games.filter(game => game.hidden !== true);
      }
    }

    function render(list){
      $games.innerHTML = '';
      if(!list.length){
        $empty.style.display = 'block';
        $count.textContent = '0 игр';
        return;
      }
      $empty.style.display = 'none';
      
      const visibleCount = list.filter(game => game.hidden !== true).length;
      const hiddenCount = list.filter(game => game.hidden === true).length;
      
      let countText = `${list.length} игр`;
      if (showHiddenGames && hiddenCount > 0) {
        countText = `${list.length} игр (${hiddenCount} скрытых)`;
      }
      $count.textContent = countText;

      list.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        if (item.hidden) {
          card.classList.add('hidden-game');
        }

        const titleContainer = document.createElement('div');
        titleContainer.style.display = 'flex';
        titleContainer.style.justifyContent = 'space-between';
        titleContainer.style.alignItems = 'flex-start';
        titleContainer.style.gap = '8px';

        const title = document.createElement('div');
        title.className = 'title';
        title.textContent = item.name;
        title.style.flex = '1';

        titleContainer.appendChild(title);

        // Добавляем бейдж для скрытых игр
        if (item.hidden) {
          const hiddenBadge = document.createElement('span');
          hiddenBadge.className = 'hidden-badge';
          hiddenBadge.textContent = 'СКРЫТО';
          hiddenBadge.title = 'Эта игра скрыта от обычного просмотра';
          titleContainer.appendChild(hiddenBadge);
        }

        const url = document.createElement('div');
        url.className = 'url';
        url.textContent = item.url;

        const actions = document.createElement('div');
        actions.className = 'actions';

        const openBtn = document.createElement('button');
        openBtn.className = 'btn';
        openBtn.textContent = 'Открыть';
        openBtn.addEventListener('click', () => window.open(item.url, '_blank', 'noopener'));

        const copyBtn = document.createElement('button');
        copyBtn.className = 'btn secondary';
        copyBtn.textContent = 'Копировать ссылку';
        copyBtn.addEventListener('click', async () => {
          try{
            await navigator.clipboard.writeText(item.url);
            copyBtn.textContent = 'Скопировано!';
            setTimeout(()=> copyBtn.textContent = 'Копировать ссылку', 1200);
          }catch(e){
            alert('Не удалось скопировать ссылку');
          }
        });

        actions.append(openBtn, copyBtn);
        card.append(titleContainer, url, actions);
        $games.append(card);
      });
    }

    // Обновление текста кнопки
    function updateShowAllButton() {
      if (showHiddenGames) {
        $showAll.textContent = 'Только видимые';
      } else {
        $showAll.textContent = 'Показать все игры';
      }
    }

    // Переключение режима отображения
    $showAll.addEventListener('click', () => {
      showHiddenGames = !showHiddenGames;
      updateShowAllButton();
      const gamesToShow = getGamesToShow();
      render(gamesToShow);
    });

    // Поиск
    $search.addEventListener('input', (e) => {
      const q = e.target.value.trim().toLowerCase();
      const gamesToShow = getGamesToShow();
      const filtered = gamesToShow.filter(g => g.name.toLowerCase().includes(q));
      render(filtered);
    });

    // Сброс поиска
    $reset.addEventListener('click', () => { 
      $search.value = ''; 
      render(getGamesToShow()); 
    });

    // Инициализация - показываем только видимые игры
    updateShowAllButton();
    render(getGamesToShow());
  </script>
</body>
</html>
